{"id":"zaap-0a2","title":"Background location delivery — ensure location updates POST even when app is backgrounded","status":"closed","priority":2,"issue_type":"task","assignee":"micahmartin","created_at":"2026-02-15T11:56:33.06532-07:00","created_by":"micahmartin","updated_at":"2026-02-15T12:05:07.060835-07:00","closed_at":"2026-02-15T12:05:07.060838-07:00","dependencies":[{"issue_id":"zaap-0a2","depends_on_id":"zaap-c6c","type":"blocks","created_at":"2026-02-15T11:56:39.763371-07:00","created_by":"micahmartin"},{"issue_id":"zaap-0a2","depends_on_id":"zaap-t8f","type":"blocks","created_at":"2026-02-15T11:56:39.880064-07:00","created_by":"micahmartin"}]}
{"id":"zaap-0es","title":"Wire delivery services to log — record each POST result","description":"Update LocationDeliveryService, SleepDeliveryService, HeartRateDeliveryService, ActivityDeliveryService, and WorkoutDeliveryService to record each delivery attempt (success or failure) to the DeliveryLog after POSTing.","status":"closed","priority":2,"issue_type":"task","assignee":"micahmartin","created_at":"2026-02-16T13:32:36.970461-07:00","created_by":"micahmartin","updated_at":"2026-02-16T14:08:57.591606-07:00","closed_at":"2026-02-16T14:08:57.59161-07:00","dependencies":[{"issue_id":"zaap-0es","depends_on_id":"zaap-9b7","type":"blocks","created_at":"2026-02-16T13:32:41.441654-07:00","created_by":"micahmartin"}]}
{"id":"zaap-16z","title":"Step count \u0026 activity reader + delivery — daily steps, distance, active energy","description":"Read step count, walking/running distance, and active energy burned from HealthKit. POST daily summary to webhook.","status":"closed","priority":2,"issue_type":"task","assignee":"micahmartin","created_at":"2026-02-15T19:31:38.833756-07:00","created_by":"micahmartin","updated_at":"2026-02-15T19:40:51.232339-07:00","closed_at":"2026-02-15T19:40:51.232342-07:00"}
{"id":"zaap-1b3","title":"Sleep webhook delivery — wire SleepDataReader to WebhookClient POST","description":"Connect existing SleepDataReader to WebhookClient. POST morning sleep summary (stages, duration, quality) to /hooks/health. Trigger on app wake or background schedule.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-15T19:31:38.416237-07:00","created_by":"micahmartin","updated_at":"2026-02-15T20:07:20.486254-07:00","closed_at":"2026-02-15T20:07:20.486256-07:00"}
{"id":"zaap-2xf","title":"HealthKit sleep data reader — read sleep analysis from HealthKit","status":"closed","priority":2,"issue_type":"task","assignee":"micahmartin","created_at":"2026-02-15T11:56:33.231381-07:00","created_by":"micahmartin","updated_at":"2026-02-15T12:41:39.765804-07:00","closed_at":"2026-02-15T12:41:39.765806-07:00","dependencies":[{"issue_id":"zaap-2xf","depends_on_id":"zaap-7xm","type":"blocks","created_at":"2026-02-15T11:56:39.994572-07:00","created_by":"micahmartin"}]}
{"id":"zaap-3ig","title":"Set up git remote and push to GitHub","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-15T12:04:30.935615-07:00","created_by":"micahmartin","updated_at":"2026-02-15T12:04:56.928018-07:00","closed_at":"2026-02-15T12:04:56.928018-07:00","close_reason":"Closed","labels":["status:in-progress"]}
{"id":"zaap-3ig.1","title":"State change: status → in-progress","description":"Set status to in-progress","status":"closed","priority":4,"issue_type":"event","assignee":"micahmartin","created_at":"2026-02-15T12:04:50.002565-07:00","created_by":"micahmartin","updated_at":"2026-02-15T19:55:46.114042-07:00","closed_at":"2026-02-15T19:55:46.114045-07:00","dependencies":[{"issue_id":"zaap-3ig.1","depends_on_id":"zaap-3ig","type":"parent-child","created_at":"2026-02-15T12:04:50.004043-07:00","created_by":"micahmartin"}]}
{"id":"zaap-3sj","title":"Hook session routing — location data should persist to memory","description":"Location webhooks create isolated hook sessions that are inaccessible from the main/channel sessions. The agent can't read or persist the location data. Options: 1) Set hooks.defaultSessionKey so all hooks route to a known session. 2) Change hook action to 'wake' instead of 'agent' so it injects into main session. 3) Have the hook handler write directly to memory files. The goal: when Micah sends location, Zane should store it in daily memory and be able to recall it.","status":"closed","priority":1,"issue_type":"bug","assignee":"zane","created_at":"2026-02-19T16:10:05.753089-07:00","created_by":"zane","updated_at":"2026-02-19T21:20:38.529098-07:00","closed_at":"2026-02-19T21:20:38.529101-07:00","comments":[{"id":1,"issue_id":"zaap-3sj","author":"zane","text":"Fixed: Changed location hook from action:agent (isolated session) to action:wake (injects into main session). The wake action enqueues the location data as a system event in the main agent session, where it has full context to persist to memory files. Also removed agentId and deliver fields (not applicable to wake action). Config change in ~/.openclaw/openclaw.json. Gateway auto-reloaded.","created_at":"2026-02-19T23:24:49Z"}]}
{"id":"zaap-3t6","title":"App icon — creative and fun Zaap branding","description":"Design and generate a creative, fun app icon for Zaap. Think lightning bolt / zap energy theme. Produce all required sizes for iOS (1024x1024 master + AppIcon asset catalog). Should look great on home screen.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-16T13:32:37.238201-07:00","created_by":"micahmartin","updated_at":"2026-02-16T13:34:46.988539-07:00","closed_at":"2026-02-16T13:34:46.988543-07:00"}
{"id":"zaap-4jt","title":"Send Now buttons — manual trigger for each data source","description":"Add a 'Send Now' button next to each data source toggle in Settings. Tapping it immediately reads the latest data and POSTs it to the webhook. Shows success/failure feedback. Useful for testing each service independently without waiting for background triggers.","status":"closed","priority":1,"issue_type":"task","assignee":"micahmartin","created_at":"2026-02-16T21:02:36.370524-07:00","created_by":"micahmartin","updated_at":"2026-02-16T22:31:17.654165-07:00","closed_at":"2026-02-16T22:31:17.65417-07:00","dependencies":[{"issue_id":"zaap-4jt","depends_on_id":"zaap-fkp","type":"blocks","created_at":"2026-02-17T06:42:32.343039-07:00","created_by":"micahmartin"}]}
{"id":"zaap-7xm","title":"Xcode project scaffolding — SwiftUI app with bundle ID, Info.plist, location permissions","status":"closed","priority":2,"issue_type":"task","assignee":"micahmartin","created_at":"2026-02-15T11:56:32.394424-07:00","created_by":"micahmartin","updated_at":"2026-02-15T12:00:57.53748-07:00","closed_at":"2026-02-15T12:00:57.537486-07:00"}
{"id":"zaap-8by","title":"Dashboard screen with 7-day bar chart","description":"Home screen using Swift Charts. Grouped bar chart showing delivery counts per data type per day for the past 7 days. Color-coded bars: location, sleep, heart rate, activity, workouts. Reads from DeliveryLog.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-16T13:32:36.643062-07:00","created_by":"micahmartin","updated_at":"2026-02-16T13:47:15.375013-07:00","closed_at":"2026-02-16T13:47:15.375016-07:00","dependencies":[{"issue_id":"zaap-8by","depends_on_id":"zaap-9b7","type":"blocks","created_at":"2026-02-16T13:32:41.152663-07:00","created_by":"micahmartin"}]}
{"id":"zaap-9b7","title":"Delivery log persistence — store webhook deliveries locally","description":"Create a DeliveryLog model and persistence layer (SwiftData or JSON file). Each webhook POST records: data type (location/sleep/hr/activity/workout), timestamp, success/fail. Provides query API for last N days grouped by type and day.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-16T13:32:36.427054-07:00","created_by":"micahmartin","updated_at":"2026-02-16T13:50:30.721355-07:00","closed_at":"2026-02-16T13:50:30.72136-07:00"}
{"id":"zaap-aad","title":"Request log in Settings — show last 10 webhook requests","description":"Add a scrollable log section at the bottom of SettingsView showing the last 10 webhook requests. Each entry shows: timestamp, service path (/location, /sleep, etc.), HTTP status code, response time (ms), JSON request body (collapsible or truncated), and error message if failed. Use an in-memory ring buffer (no persistence needed). WebhookClient should append to the log on every request. Log entries should be color-coded: green for success, red for errors.","status":"closed","priority":1,"issue_type":"task","assignee":"zane","created_at":"2026-02-19T16:16:30.288096-07:00","created_by":"zane","updated_at":"2026-02-19T18:59:00.289934-07:00","closed_at":"2026-02-19T18:59:00.289936-07:00"}
{"id":"zaap-biq","title":"Pre-push git hook: 90% code coverage minimum","description":"Add a pre-push git hook that runs xcodebuild test with coverage enabled, parses results with xcrun xccov, and fails the push if any source file is below 90% coverage. Script lives in scripts/pre-push (tracked), symlinked into .git/hooks/pre-push. AGENTS.md should document the setup step.","status":"closed","priority":1,"issue_type":"task","assignee":"zane","created_at":"2026-02-19T09:03:05.095004-07:00","created_by":"zane","updated_at":"2026-02-19T09:35:58.921919-07:00","closed_at":"2026-02-19T09:35:58.921921-07:00"}
{"id":"zaap-bom","title":"README — app overview and OpenClaw webhook setup guide","description":"Write a comprehensive README.md for the Zaap repo. Should include: 1) What Zaap does (personal telemetry relay — location, sleep, heart rate, activity, workouts). 2) How to build and install via TestFlight. 3) CRITICAL: Step-by-step guide for another OpenClaw instance to set up all the webhook mappings this app calls (/hooks/location, /hooks/sleep, /hooks/heartrate, /hooks/activity, /hooks/workout). Include example openclaw.json hooks config with all 5 mappings and suggested messageTemplates. 4) App settings (hostname, bearer token). 5) Privacy/permissions overview.","status":"closed","priority":2,"issue_type":"task","assignee":"zane","created_at":"2026-02-18T08:15:17.532743-07:00","created_by":"micahmartin","updated_at":"2026-02-19T09:35:21.64193-07:00","closed_at":"2026-02-19T09:35:21.641936-07:00"}
{"id":"zaap-c6c","title":"Location manager — CLLocationManager with significant location change monitoring","status":"closed","priority":2,"issue_type":"task","assignee":"micahmartin","created_at":"2026-02-15T11:56:32.56206-07:00","created_by":"micahmartin","updated_at":"2026-02-15T12:02:57.284176-07:00","closed_at":"2026-02-15T12:02:57.284179-07:00","dependencies":[{"issue_id":"zaap-c6c","depends_on_id":"zaap-7xm","type":"blocks","created_at":"2026-02-15T11:56:39.402804-07:00","created_by":"micahmartin"}]}
{"id":"zaap-fkp","title":"Per-service path routing — base URL is /hooks, each service appends its own path","description":"Change webhook architecture: user enters base URL (e.g. https://host/hooks). Each delivery service appends its own path segment: LocationDeliveryService posts to /location, SleepDeliveryService to /sleep, HeartRateDeliveryService to /heartrate, ActivityDeliveryService to /activity, WorkoutDeliveryService to /workout. Update WebhookClient.post() calls in all services. Fix crash on invalid URL.","status":"closed","priority":1,"issue_type":"task","assignee":"micahmartin","created_at":"2026-02-16T21:02:36.182265-07:00","created_by":"micahmartin","updated_at":"2026-02-16T22:25:12.5709-07:00","closed_at":"2026-02-16T22:25:12.570904-07:00"}
{"id":"zaap-h24","title":"Pre-push hook simulator device name should be configurable","description":"The pre-push coverage hook hardcodes 'iPhone 17 Pro' as the simulator destination. This breaks when the machine has different simulators available. Should auto-detect an available iPhone simulator or read from a config file.","status":"closed","priority":2,"issue_type":"task","assignee":"zane","created_at":"2026-02-19T16:10:18.062109-07:00","created_by":"zane","updated_at":"2026-02-19T16:20:06.087549-07:00","closed_at":"2026-02-19T16:20:06.087552-07:00"}
{"id":"zaap-ho4","title":"Funnel persistence — tailscale serve overwrites funnel on gateway restart","description":"Every gateway restart runs tailscale serve which resets funnel back to tailnet-only. Zaap on iPhone can't reach the server until funnel is manually re-enabled. Need a post-restart hook or launchd script that runs 'tailscale funnel --bg --set-path / http://127.0.0.1:18789' after gateway starts. This is a zane-setup issue, not a Zaap code issue — but it blocks Zaap from working reliably.","status":"closed","priority":1,"issue_type":"bug","assignee":"zane","created_at":"2026-02-19T16:10:12.827707-07:00","created_by":"zane","updated_at":"2026-02-19T16:22:12.167102-07:00","closed_at":"2026-02-19T16:22:12.167105-07:00"}
{"id":"zaap-jod","title":"Crash hardening — eliminate all force unwraps and thread-safety issues","description":"App crashes on device when toggling location. Root causes: 1) CLLocationManager may be initialized off main thread via lazy static singleton. 2) 15 force unwraps across HealthKit readers. 3) No failure-path tests. Fix all force unwraps, ensure main-thread initialization, add failure-path tests.","status":"closed","priority":0,"issue_type":"bug","assignee":"zane","created_at":"2026-02-18T22:49:17.643279-07:00","created_by":"zane","updated_at":"2026-02-19T22:50:00.61308-07:00","closed_at":"2026-02-19T22:50:00.613082-07:00"}
{"id":"zaap-ku4","title":"Sleep webhook — POST morning sleep summary to /hooks/health","status":"closed","priority":2,"issue_type":"task","assignee":"micahmartin","created_at":"2026-02-15T11:56:33.398409-07:00","created_by":"micahmartin","updated_at":"2026-02-15T19:48:10.048735-07:00","closed_at":"2026-02-15T19:48:10.048738-07:00","dependencies":[{"issue_id":"zaap-ku4","depends_on_id":"zaap-2xf","type":"blocks","created_at":"2026-02-15T11:56:40.109537-07:00","created_by":"micahmartin"},{"issue_id":"zaap-ku4","depends_on_id":"zaap-t8f","type":"blocks","created_at":"2026-02-15T11:56:40.224255-07:00","created_by":"micahmartin"}]}
{"id":"zaap-l06","title":"CRASH FIX: Replace background URLSession async/await with standard URLSession","description":"Root cause identified from crash report (Zaap-2026-02-19-102926.ips):\n\nCRASH: NSURLBackgroundSession throws ObjC exception when using async/await upload(for:fromFile:). This is an iOS limitation — background sessions do NOT support Swift concurrency async/await on real devices (works in simulator).\n\nStack trace: __NSURLBackgroundSession _onqueue_dummyTaskForClass → objc_exception_throw → SIGABRT\n\nFIX: Replace the background URLSession in WebhookClient with a standard URLSession.default. Use upload(for:from:) with Data instead of fromFile. Background delivery can be revisited later with proper delegate-based approach if needed.\n\nFiles to change:\n- WebhookClient.swift: Remove backgroundSession, use foregroundSession for everything\n- Remove SessionDelegate class (no longer needed without background session)","status":"closed","priority":0,"issue_type":"bug","assignee":"zane","created_at":"2026-02-19T10:35:27.979927-07:00","created_by":"zane","updated_at":"2026-02-19T11:49:45.357632-07:00","closed_at":"2026-02-19T11:49:45.357659-07:00"}
{"id":"zaap-l6r","title":"Workout session reader + delivery — read completed workouts and POST to webhook","description":"Read HKWorkout sessions from HealthKit (type, duration, calories, distance, HR zones if available). POST workout summaries to webhook.","status":"closed","priority":2,"issue_type":"task","assignee":"micahmartin","created_at":"2026-02-15T19:31:39.112672-07:00","created_by":"micahmartin","updated_at":"2026-02-15T19:38:55.521277-07:00","closed_at":"2026-02-15T19:38:55.521284-07:00"}
{"id":"zaap-lxv","title":"Tab bar navigation — Dashboard + Settings","description":"Add a TabView with two tabs: Dashboard (home, bar chart) and Settings (existing SettingsView). Dashboard is the default/first tab.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-16T13:32:36.808874-07:00","created_by":"micahmartin","updated_at":"2026-02-16T14:09:07.027806-07:00","closed_at":"2026-02-16T14:09:07.02781-07:00","dependencies":[{"issue_id":"zaap-lxv","depends_on_id":"zaap-8by","type":"blocks","created_at":"2026-02-16T13:32:41.727072-07:00","created_by":"micahmartin"}]}
{"id":"zaap-mu5","title":"Request log — add Copy button to each log entry","description":"Add a copy button (or tap-to-copy) to each request log entry in the Settings view. Tapping it should copy the full details to the clipboard: timestamp, path, status code, response time, and JSON body. Use UIPasteboard.general.string. A brief 'Copied!' confirmation (toast or button label change) would be a nice touch.","status":"closed","priority":2,"issue_type":"task","assignee":"zane","created_at":"2026-02-19T23:36:40.540943-07:00","created_by":"zane","updated_at":"2026-02-19T23:41:21.658061-07:00","closed_at":"2026-02-19T23:41:21.658064-07:00"}
{"id":"zaap-n0b","title":"Request log — merge request and response into single entry","description":"Currently the request log shows the request body separately from the response/error, which is confusing. Merge both into a single log entry row showing: [status dot] /path  NNNms | timestamp | error message or status code. The JSON body should be accessible via expand/tap (collapsible), not shown by default. One clean line per request, not two separate items.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-19T23:40:11.118635-07:00","created_by":"zane","updated_at":"2026-02-20T00:40:49.675594-07:00","closed_at":"2026-02-20T00:40:49.675597-07:00"}
{"id":"zaap-pvp","title":"Hostname-only settings — auto-build webhook URLs from hostname","description":"Change Settings from full URL input to hostname-only. App builds https://\u003chostname\u003e/hooks/\u003cservice\u003e automatically. Reduces user error. Also deferred service start to .task{} to prevent launch crashes.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-18T08:13:42.243506-07:00","created_by":"micahmartin","updated_at":"2026-02-18T08:13:46.806005-07:00","closed_at":"2026-02-18T08:13:46.806005-07:00","close_reason":"Closed"}
{"id":"zaap-q2l","title":"Heart rate reader + delivery — read HR samples from HealthKit and POST to webhook","description":"HealthKit HKQuantityType heartRate reader. Collect resting HR, recent samples, and daily min/max/avg. POST to webhook endpoint.","status":"closed","priority":2,"issue_type":"task","assignee":"micahmartin","created_at":"2026-02-15T19:31:38.590041-07:00","created_by":"micahmartin","updated_at":"2026-02-15T19:42:10.584884-07:00","closed_at":"2026-02-15T19:42:10.584889-07:00"}
{"id":"zaap-q3v","title":"App icon concepts — generate 3+ distinct design directions for review","description":"Create at least 3 distinct app icon concepts (1024x1024 PNG each) for Zaap. Each should explore a different visual direction while staying on-brand (lightning/zap/telemetry/data themes). Save all concepts to .project/iterations/003/assets/ for review. Present to Micah in #zaap for selection and refinement.","status":"closed","priority":1,"issue_type":"task","assignee":"micahmartin","created_at":"2026-02-16T14:23:04.746308-07:00","created_by":"micahmartin","updated_at":"2026-02-19T10:05:16.825897-07:00","closed_at":"2026-02-19T10:05:16.825913-07:00"}
{"id":"zaap-q8a","title":"Add XCTest target and backfill tests for all existing features","description":"Create a ZaapTests target in the Xcode project. Following the TDD skill (~/.openclaw/skills/tdd/SKILL.md), write tests for all existing code: SettingsManager, WebhookClient, LocationManager, LocationDeliveryService, SleepDataReader, SleepDeliveryService, HeartRateReader, HeartRateDeliveryService, ActivityReader, ActivityDeliveryService, WorkoutReader, WorkoutDeliveryService. Use protocol-based abstractions where needed to make HealthKit/CLLocation code testable. Ensure all tests pass in the simulator.","status":"closed","priority":1,"issue_type":"task","assignee":"micahmartin","created_at":"2026-02-15T19:34:53.598791-07:00","created_by":"micahmartin","updated_at":"2026-02-16T09:04:04.580736-07:00","closed_at":"2026-02-16T09:04:04.580738-07:00"}
{"id":"zaap-r25","title":"Webhook test button — verify config with a ping request","description":"Add a 'Test Connection' button in Settings under the webhook config section. Sends a lightweight test POST to the webhook URL. Shows success/failure inline. Must not crash on invalid URL or missing config — handle errors gracefully.","status":"closed","priority":1,"issue_type":"task","assignee":"micahmartin","created_at":"2026-02-16T21:02:35.98372-07:00","created_by":"micahmartin","updated_at":"2026-02-16T22:30:01.501126-07:00","closed_at":"2026-02-16T22:30:01.50113-07:00","dependencies":[{"issue_id":"zaap-r25","depends_on_id":"zaap-fkp","type":"blocks","created_at":"2026-02-17T06:42:32.185412-07:00","created_by":"micahmartin"}]}
{"id":"zaap-t8f","title":"Webhook client — POST location data to configured endpoint with Bearer auth","status":"closed","priority":2,"issue_type":"task","assignee":"micahmartin","created_at":"2026-02-15T11:56:32.730627-07:00","created_by":"micahmartin","updated_at":"2026-02-15T12:02:43.398623-07:00","closed_at":"2026-02-15T12:02:43.398627-07:00","dependencies":[{"issue_id":"zaap-t8f","depends_on_id":"zaap-7xm","type":"blocks","created_at":"2026-02-15T11:56:39.520806-07:00","created_by":"micahmartin"}]}
{"id":"zaap-x6c","title":"Settings screen — configure webhook URL, auth token, enable/disable location tracking","status":"closed","priority":2,"issue_type":"task","assignee":"micahmartin","created_at":"2026-02-15T11:56:32.89747-07:00","created_by":"micahmartin","updated_at":"2026-02-15T12:02:53.201641-07:00","closed_at":"2026-02-15T12:02:53.201647-07:00","dependencies":[{"issue_id":"zaap-x6c","depends_on_id":"zaap-7xm","type":"blocks","created_at":"2026-02-15T11:56:39.640731-07:00","created_by":"micahmartin"}]}
{"id":"zaap-z75","title":"Design: Voice chat — research gateway WS protocol and architect voice conversation feature","description":"Research and design the voice conversation feature for Zaap.\n\nGoals:\n- User opens voice tab, starts talking (no push-to-talk — use voice activity detection)\n- SFSpeechRecognizer transcribes speech, detects end-of-utterance on silence\n- Transcript sent to OpenClaw gateway, response streamed back\n- AVSpeechSynthesizer speaks the response\n- Conversation stays open for back-and-forth\n\nResearch needed:\n1. Gateway WebSocket protocol — can Zaap connect as a node? The Android app already does this (ws://\u003chost\u003e:18789 with pairing). If Zaap implements the node protocol, it gets bidirectional chat for free.\n2. Alternative: custom WS endpoint or synchronous hook response\n3. iOS constraints: SFSpeechRecognizer continuous mode, background audio session, VAD silence detection thresholds\n4. TTS voice selection — AVSpeechSynthesizer voices vs ElevenLabs API\n\nDeliverable: Architecture doc in .braids/iterations/ with sequence diagrams, protocol choice, and implementation plan broken into sub-beads.","status":"closed","priority":1,"issue_type":"task","assignee":"zane","created_at":"2026-02-19T18:49:03.181019-07:00","created_by":"zane","updated_at":"2026-02-19T20:21:49.45598-07:00","closed_at":"2026-02-19T20:21:49.45598-07:00","close_reason":"Closed"}
